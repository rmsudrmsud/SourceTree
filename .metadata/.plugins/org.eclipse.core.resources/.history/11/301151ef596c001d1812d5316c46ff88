<!DOCTYPE html>
<html>
<head>
<div class="top"></div>
<link rel="stylesheet" type="text/css" href="ebook_style.css" />
<meta charset="EUC-KR">
<title>엉성문고</title>

<script>
 
//헤드이미지배열
let ebookHead = ["ebookhead1.jpg","ebookhead2.jpg", "ebookhead3.jpg","ebookhead4.jpg", "ebookhead5.jpg"];
let cnt =0;

let prods = [{"title": "[인간들의 가장 은밀한 기억]", "writer": "모하메드 음부가르 사르", "price": "16920", "point": "940", "keyword": "#2021 공쿠르상 수상작", "img" : "../img/book1.jpg"},
	{"title": "[나이트 러닝]", "writer": "이지", "price": "13500", "point": "750", "keyword": "#제7회 중앙장편문학상 석권", "img" : "../img/book2.jpg"},
	{"title": "[언러키 스타트업]", "writer": "정지음", "price": "13500", "point": "750", "keyword": "#스타트업의 웃픈 현실", "img" : "../img/book3.jpg"},
	{"title": "[세 번째 장례]", "writer": "윤이안", "price": "15120", "point": "840", "keyword": "#경향신문 신춘문예 등단 작가", "img" : "../img/book4.jpg"},
	{"title": "[빈 옷장]", "writer": "아니 에르노", "price": "13050", "point": "720", "keyword": "#2022 노벨문학상 수상", img : "../img/book5.jpg"},
	{"title": "[락다운]", "writer": "피터 메이", "price": "15300", "point": "850", "keyword": "#최고의 서스펜스 스릴러", "img" : "../img/book6.jpg"},
	{"title": "[존재의 3가지 거짓말]", "writer": "아고타 그리스토프", "price": "19800", "point": "1100", "keyword": "#철학자 슬라보예 지젝 추천", "img" : "../img/book7.jpg"},
	{"title": "[인사이트 밀]", "writer": "요네자와 호노부", "price": "16650", "point": "920", "keyword": "# 7일간의 데스 매치", "img" : "../img/book8.jpg"},
	{"title": "[0125]", "writer": "케이시", "price": "12420", "point": "690", "keyword": "#픽사보다 더 픽사같다", "img" : "../img/book9.jpg"},
	{"title": "[나는 실수로 투명인간을 죽였다]", "writer": "경민선", "price": "13050", "point": "720", "keyword": "#제1회K-미스터리 최우수작", "img" : "../img/book10.jpg"}];

//통합검색창 배열
let cateinfo = ['통합검색','국내도서','해외도서','e-Book','웹소설/코믹','CD/LP'];

//헤드롤링
const ebookViewH =()=>{
	document.ebookHead.src = "../img/"+ebookHead[cnt%5];
	cnt++;
	setTimeout(ebookViewH, 900);
}

const search = () =>{
	let searchval = addForm.search.value;
	let sea = document.getElementById("search")
	alert(sea);
}

window.onload =()=> {
	ebookViewH();
	//통합검색 select박스 구현
	let sel1 = document.getElementById("sell");
	let txt ="";
	for(i=0; i<cateinfo.length; i++){
		txt += "<option value="+i+">"+cateinfo[i]+"</option>";
	}  
	sell.innerHTML =txt;
}


const show = (num) => {
	let showDiv = document.getElementById("cate_"+num);
	showDiv.style.display = '';

}

const hide = (num) => {
	let showDiv = document.getElementById("cate_"+num);
	showDiv.style.display = 'none';
}

const detail = (idx) => {	
	let obj = prods[idx];
	localStorage.setItem("title", obj.title);
	localStorage.setItem("writer", obj.writer);
	localStorage.setItem("price", obj.price);
	localStorage.setItem("point", obj.point);
	localStorage.setItem("keyword", obj.keyword);
	localStorage.setItem("img", obj.img);
	//자바스크립트에서 페이지 이동
	location.href = "detail1.html";
}


</script>
</head>

<body>

<table>
<tr>  
	<td><img src="../img/logo.jpg" style="width:200px;"></td>
	<td><select style="font-size: 16px;" id="sell" name="sell"></select>
	<input type = "text" value= "검색명을 입력해주세요." name= "searchval"><input type = "button" style="width:50px; height:30px;" value="검색" onclick = "alert('입력한 키워드로 검색된 정보가 없습니다.');"></td>
	
</tr>
<tr> 
	<td colspan="2"><img name="ebookHead" src="../img/ebookhead1.jpg"></td>
</tr>
<tr>
	<td style= "width: 150px; height: 400px; font-size: 25px; text-align: center">
	<span onmouseover="show(0)" onmouseout="hide(0)">국내도서</span><br/>
	<div id="cate_0" style="display: none; font-size: 13px; color: orange"><strong>소설/시<br />인문/사회<br />경제/경영<br />예술/문화</strong><br/></div> 
	<span onmouseover="show(1)" onmouseout="hide(1)"><br />해외도서</span><br/>
	<div id="cate_1" style="display: none; font-size: 13px; color: orange"><strong>프랑스도서<br />중국도서<br />일본도서<br />해외잡지</strong><br/></div>
	<span onmouseover="show(2)" onmouseout="hide(2)"><br />e-book</span><br/>
	<div id="cate_2" style="display: none; font-size: 13px; color: orange"><strong>인문/사회<br />자기계발/참고서<br />가정/취미<br />역사/종교</strong><br/></div>
	<span onmouseover="show(3)" onmouseout="hide(3)"><br />웹소설/코믹</span><br/>
	<div id="cate_3" style="display: none; font-size: 13px; color: orange"><strong>로맨스<br />판타지<br />무협<br />드라마<br/>액션</strong><br/></div>
	<span onmouseover="show(4)" onmouseout="hide(4)"><br />CD/LP</span><br/>
	<div id="cate_4" style="display: none; font-size: 13px; color: orange"><strong>로맨스<br />가요<br />POP/ROCK<br />클래식/JAZZ<br />종교음악<br />OST	</strong><br/></div>
	</td>
	<!--책 리스트-->
	<td style= "width: 600px; height: 600px;"><h3>화제의 신작   ></h3>
	<td><img src="../img/logo.jpg" style="width:200px;"></td>
	
   <td><select style="font-size: 16px;" id="sell" name="sell"></select>
   <form action ="" name="addForm">
   <input type = "text" value= "검색명을 입력해주세요." name= "searchval">
   <input type = "button" id="search" style="width:50px; height:30px;" value="검색" onclick = "search()")></td>
   </form>
   
	<table style="width: 1280px;">
    <script>
		for(i=0;i<prods.length;i++){
			let obj = prods[i]
			if(i%5==0){ 
				document.write("<tr>");
			}
	
	document.write("<td>");
	document.write("<img src='"+obj.img+"' onclick='detail("+i+")'><br/>");
	document.write("<strong>"+obj.title+"</strong><br/>");
	document.write(obj.writer+"<br/>");
	document.write(obj.price+"<br/>");
	document.write(obj.point+"<img style= 'width: 13px; height:13px' src='../img/p.png'>"+"<br/>");
	document.write("<span style ='color: gray'>"+"<strong>"+obj.keyword+"</strong></span><br/>");
	document.write("<img style= 'width: 217px; height:5px' src='../img/line.png'>");
	document.write("</td>");

	if(i%5==4){ 
		document.write("</tr>");
	}
}
</script>
</table>
</td>
</tr>
</table>
</body>
</html>

   
   