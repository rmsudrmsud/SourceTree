<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
//idCheck : id 중복체크 유무용 변수
//pwdCheck : 두개의 비밀번호가 같은지 체크
//raCheck : 약관동의했는지체크
let idCheck=false, pwdCheck=false, raCheck=false;

//회원가입된 id
let ids = ['aaaaaa','bbbbbb','cccccc'];

//아이디 중복체크 함수
const a = () =>{
	let id = f.id.value; //폼.id.value값을 읽어서 
	let flag = false; //중복여부
	
	//id길이가 6이상인지 체크. 만족못하면 함수종료
	if(id.length<6){
		alert("id는 길이가 6이상")
		f.id.select();
		return;
	}
	//가입된 아이디와 입력한 아이디를 비교
	for(let s of ids){
		if(s==id){
			flag = true;
			break;
		}
	}
	if(flag){ //flag가 true이면 중복
		alert("중복되 아이디. 다시입력하시오");
		f.id.select();// id 입력박스가 선택됭상태가 되도록
	}else{
		idCheck=true; //id체체크가 완료
	}
}

const b = () =>{
	let pwd = f.pwd1.value;
	if(pwd.length<4){
		alert("pwd는 길이가 4이상")
		f.pwd1.select(); //다시입력하세 첫번째창에 포커스줌
		return;
	}
	
	if(f.pwd1.value == f.pwd2.value){
		pwdCheck = true;
	}else{
		alert("패스워드 불일치");
		f.pwd1.select();
	}
}

const c = () =>{
	if(!idCheck){
		alert("id체크를하시오");
		return;
	}
	
	if(!pwdCheck){
		alert("pwd체크를하시오");
		return;
	}
	
	if(!f.ra.checked){
		alert("약관에 동의 하시오");
		return;
	}
	
	alert("회원가입 완료");
	print();
	
}

const print=() =>{
	document.write("id:"+f.id.value+"br/>");
	document.write("pwd:"+f.pwd1.value+"br/>");
	document.write("name:"+f.name.value+"br/>");
}

</script>
</head>
<body>
<h3>회원가입</h3>
<form action="", name="f">
<table border="1">
<tr>
<th>ID(아이디는 6글자 이상)</th> <!-- 배열에 아이디3개정도 저장 'aaa'.'bbb'.'ccc' 중복버튼클릭시 비교후 일치하는것있으면 중복됨, 다시입력메시지 가입실패-->
	<td><input type="text" name="id">
	<input type="button" value="중복체크" onclick="a()">
	</td>
</tr>

<tr>
<th>PWD(비밀번호는 4글자 이상)</th> <!-- pwd1과 pwd2가같은지 체크 -->
	<td><input type="password" name="pwd1">
	<input type="password" name="pwd2">
	<input type="button" value="비밀번호확인" onclick="b()">
	</td>
</tr>

<tr>
<th>NAME</th>
	<td><input type="text" name="name"></td>
</tr>

<tr>
<th>약관동의</th> <!-- 약관동의 iframe아닌가/??? 약관에 동의체크해야가입완료 -->
	<td>약관약관약관약관약관약관약관<br/>
	<td><input type ="radio" name="ra">동의함</td>
</tr>

<tr>
<th>가입</th> <!-- id, pwd, name,약관동의 다되어야 가입가능, 가입완료이후 가입축하 메시지! -->
	<td><input type="button" value="가입" onclick="c()"></td>
</tr>
</table>
</form>
</body>
</html>