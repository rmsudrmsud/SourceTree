<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
<script type="text/javascript">
//헤드 이미지 배열에 저장
let headImgs =["locket.jpg","head1.jpg"] //바꿀이미지 파일명. 배열
let cnt = 0;

let prods = [{"title":"컴퓨터", "price":29000, "info":"내일도착보장", "img":"../img/computer.jpg"},
	{"title":"폰", "price":10000, "info":"내일도착보장", "img":"../img/phone.jpg"},
	{"title":"tv", "price":29000, "info":"내일도착보장", "img":"../img/tv.jpg"},
	{"title":"개", "price":2900, "info":"11월23일도착보장", "img":"../img/dog.jpg"},
	{"title":"개2", "price":2900, "info":"내일도착보장", "img":"../img/dog2.jpg"},
	{"title":"개3", "price":29000, "info":"내일도착보장", "img":"../img/dog3.jpg"}]
	
const viewH =() =>{
	document.headImg.src ="../img/head/"+headImgs[cnt%2]; //headimg의 src값으로. 경로+ [cnt%2] 이미지가 2개니까 2개가지나면 0으로돌아오라고 6개면 cnt%6
	cnt++;
	window.setTimeout(viewH, 1000); //1초마다 사진바뀌게. 1000  window 생략가능
	//setTimeout(a,b); 첫번째파라메터1 a함수를 호출, 파라메터2 b 시간 지난후에
	
}

//이름이없는 함수 : 익명함수
window.onload = () =>{ //onload : onclick 처럼 핸들러 등록하는 속성. on+load -> load : 페이지 시작하자마자동작
	viewH();
}

const show = (num) => {
	let showDiv = document.getElementById("cate_"+num);
	showDiv.style.display = '';
	num++;
}

const hide = (num) => {
	let showDiv = document.getElementById("cate_"+num);
	showDiv.style.display = 'none';
}

const detail = (idx) =>{
	let obj = prods[idx];
	localStorage.setItem("title", obj.title);
	localStorage.setItem("price", obj.price);
	localStorage.setItem("info", obj.info);
	localStorage.setItem("img", obj.img);
	//location.href -> 자바스크립트에서 페이지 이동하는법 /링크로이동: html
	location.href = "detail.html";
}
</script>
</head>
<body>
<h3>kosta shop</h3>
<table>
<tr><td colspan="2" style="height:150px;background-color:white;font-size:60px;text-align:center">
<img name="headImg" style="width:700px;" src="../img/head/locket.jpg"> <!--이름 headimg -->
</td></tr>
<tr>
<td style="width:150px;height:400px;background-color:orange;font-size:20px;text-align:center">
<span onmouseover="show(0)" onmouseout="hide(0)">전자</span><br/>
<div id="cate_0" style="display:none;font-size:10px;color:red;" >노트북 / 냉장고 / 세탁기</div>
<span onmouseover="show(1)" onmouseout="hide(1)">의류</span><br/>
<div id="cate_1" style="display:none;font-size:10px; color:red;" >아동복 / 여성복 / 남성복</div>
<span onmouseover="show(2)" onmouseout="hide(2)">간식</span><br/>
<div id="cate_2" style="display:none;font-size:10px;color:red;" >스낵 / 쿠키 / 젤리</div>
<span onmouseover="show(3)" onmouseout="hide(3)">애완</span><br/>
<div id="cate_3" style="display:none;font-size:10px; color:red;" >장난감 / 간식 / 사료</div>
</td>
<td style="width:400px;height:400px">
<table>
<script>
for(i=0;i<prods.length;i++){
	if(i%3==0){
		document.write("<tr>");
	}
	
	document.write("<td>");
	document.write("<img style='width:100px;height:100px;' src='"+prods[i].img+"' onclick='detail("+i+")'><br/>"); //클릭시 detail함수 방번호 i
	document.write(prods[i].title+"<br/>");
	document.write(prods[i].price+"<br/>");
	document.write(prods[i].info+"<br/>");
	document.write("</td>");
	
	if(i%3==2){
		document.write("</tr>");
	}
	
}
</script>
<!-- <tr>
<td><a href="detail.html"><img src="../img/computer.jpg" style="width:100px;height:100px"></a></td>
<td><img src="../img/phone.jpg" style="width:100px;height:100px"></td>
<td><img src="../img/tv.jpg" style="width:100px;height:100px"></td>
</tr>
<tr>
<td class="title"> 컴퓨터 <br/>가격:2900000<br/>내일 도착 보장</td>
<td class="title"> 폰 <br/>가격:1000000<br/>내일 도착 보장</td>
<td class="title"> tv <br/>가격:2900000<br/>내일 도착 보장</td>
</tr> -->
</table>
</td>
</tr>
</table>
</body>
</html>