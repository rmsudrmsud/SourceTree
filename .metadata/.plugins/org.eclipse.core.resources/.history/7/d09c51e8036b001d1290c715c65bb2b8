<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
//대분류
let cate_0 = ['전자제품', '의류품', '생필품', '애완'];
//중분류
let cate_1 = [['가전','컴퓨터','음향'], ['정장', '스포츠웨어', '방한'], ['음식','생활소품'], ['강아지','고양이','기타']];
//소분류
let cate_3 = [[['냉장고', '세탁기', 'tv'], ['데스크탑', '노트북', '주변기기'],['스피커', '오디오', '우퍼']], 
[['상의', '하의'],['스키복','보드북','레깅스'],['올코트', '다운점퍼', '솜바지']],[['면류', '밥류', '간식'], ['조명','물티슈']],
[['강아지 간식', '강아지패드'], ['고양이 간식', '고양이 패드'], ['기타 간식', '기타 패드']]];

onload = () => {
	let sel1 = document.getElementById("sel1");
	let txt = "";
	for(i=0;i<cate_0.length;i++){
		txt += "<option value="+i+">"+cate_0[i]+"</option>";
	}
	sel1.innerHTML = txt;
	
	//요소의 이벤트핸들러 등록 
	sel1.addEventListener("change", f1) //입력값이 바뀌면 함수 f1을 호출하는 이벤트리스너
}

const f1 = () => {
	let val = f.sel1.value; //사용자가 선택한 대분류
	let arr = cate_1[parseInt(val)]; //보통 입력값이 텍스트. 선택한대분류에속하는 중분류 값을 추출
	

	let tr1 = document.getElementById("tr1"); //첫번째 줄 <tr></tr>요소 추출
	let thEl = document.getElementById("th_cate1");//id가 th_cate1인 요소 검색 중분류 출력하 제목칸이 있나없나 확인
	if(thEl==null){//없으면
		thEl = document.createElement("th"); //th요소 생성
		thEl.setAttribute("id", "th_cate1"); //id를 th_cate1로 설정
		thEl.innerHTML = "중분류"; //칸의 내용으로 제목출력
		tr1.appendChild(thEl); //tr1에 자식으로 추가
	}
	
	//두번째 줄. id가 tr2인 <tr></tr>요소추출
	let tr2 = document.getElementById("tr2");
	//중분류 선택할셀렉트 박스를 넣을 td칸 있나 없나 확인
	let td = document.getElementById("td_cate1"); 
	//두번째 줄에 id가 td_cate1없으면
	if(td==null){
		td = document.createElement("td"); 
		//td의 id 를 td_cate1로 지정
		td.setAttribute("id", "td_cate1");
		//생성한 칸을 두번째 줄에 자식으로 추가
		tr2.appendChild(td);
	}
	let txt = ""; //안의값을 비우고
	txt += "<select id='sel2' name='sel2'>";
	for(i=0;i<arr.length;i++){
		txt += "<option value="+i+">"+arr[i]+"</option>";
	}
	txt += "</select>";
	
	//칸의 내용으로 중분류 선택 셀렉트박스 작성
	td.innerHTML = txt;	
	
/* 	let tr3 = docuement.getElementById("tr3");
	let to = document.getElementById("to_cate3")
	if(to==null){
		to = document.creatElement("td");
		to.setAttribute("id","to_cate3");
		tr3.appendChild(to);
	}
	let txt2 = ""; //안의값을 비우고
	txt2 += "<select id='sel3' name='sel3'>";
	for(i=0;i<arr.length;i++){
		txt2 += "<option value="+i+">"+arr[i]+"</option>";
	}
	txt2 += "</select>";
	to.innerHTML = txt2; */
}
</script>
</head>
<body>
<h3>상품 분류 선택</h3>
<form name="f">
<table>
<tr id="tr1"><th>대분류</th></tr>
<tr id="tr2"><td><select id="sel1" name="sel1"></select></td></tr>
<tr id="tr3"><td><select id="sel2" name="sel2"></select></td></tr>
</table>
</form>
</body>
</html>